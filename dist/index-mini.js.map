{
  "version": 3,
  "sources": ["../src-mini/index.js"],
  "sourcesContent": ["var Mode = (function () {\r\n    function Mode() { }\r\n    // \u4F7F\u7528forEach\u66FF\u4EE3map\uFF0C\u56E0\u4E3A\u4E0D\u9700\u8981\u8FD4\u56DE\u503C\r\n    [\"none\", \"cover\", \"contain\", \"fill\", \"fixedWidth\"].forEach(function (v) {\r\n        Mode[v] = new Mode();\r\n    });\r\n    return Mode;\r\n})();\r\n\r\nvar Adapter = (function () {\r\n    var w = typeof window !== \"undefined\" ? window : void 0;\r\n    var d = typeof document !== \"undefined\" ? document : void 0;\r\n\r\n    /**\r\n     * \u5171\u4EAB\u6837\u5F0F\uFF1A\u7528\u4E8E\u5728\u9002\u914D\u8FC7\u7A0B\u4E2D\u9690\u85CF\u5143\u7D20\uFF0C\u907F\u514D\u95EA\u70C1\r\n     */\r\n    var SS = \"[sa-cloak]{display:none !important;}\";\r\n\r\n    /**\r\n     * \u68C0\u67E5\u662F\u5426\u5728\u5BA2\u6237\u7AEF\u6E32\u67D3\u73AF\u5883\uFF08\u6D4F\u89C8\u5668\u73AF\u5883\uFF09\r\n     */\r\n    var CSR = !!w || !!d;\r\n\r\n    // Symbol.dispose \u652F\u6301\r\n    typeof Symbol === \"function\" && !Symbol.dispose && (Symbol.dispose = Symbol.for(\"Symbol.dispose\"));\r\n\r\n    // \u8BA1\u6570\u5668\r\n    var c = 0;\r\n\r\n    function Adapter(selector) {\r\n        this._iD = false; // \u9002\u914D\u5668\u662F\u5426\u5DF2\u88AB\u91CA\u653E\r\n        this._s = \"sa-\" + ++c; // \u9002\u914D\u5668\u7684\u552F\u4E00\u6807\u8BC6\u7B26\r\n        this._el = null; // \u7ED1\u5B9A\u7684\u5143\u7D20\r\n        this._se = null; // \u6837\u5F0F\u5143\u7D20\r\n        this._rc = null; // \u91CD\u6392\u56DE\u8C03\u51FD\u6570\r\n        this._dt = null; // \u9632\u6296\u5B9A\u65F6\u5668\r\n        this.mode = Mode.none; // \u9002\u914D\u6A21\u5F0F\r\n        this.sourceWidth = 0; // \u8BBE\u8BA1\u7A3F\u7684\u5BBD\u5EA6\r\n        this.sourceHeight = 0; // \u8BBE\u8BA1\u7A3F\u7684\u9AD8\u5EA6\r\n        this.scaleVector = { x: 1, y: 1 }; // \u7F29\u653E\u5411\u91CF\r\n\r\n        // \u68C0\u67E5\u53C2\u6570\u662F\u5426\u5B58\u5728\r\n        if (!selector) throw new Error(\"Selector parameter is required\");\r\n\r\n        // \u975E\u5BA2\u6237\u7AEF\u6E32\u67D3\u73AF\u5883\u76F4\u63A5\u8FD4\u56DE\r\n        if (!CSR) return;\r\n\r\n        var el;\r\n        // \u5904\u7406\u5B57\u7B26\u4E32\u9009\u62E9\u5668\r\n        if (typeof selector === \"string\") {\r\n            el = d.querySelector(selector);\r\n            if (!el) throw new Error(\"Element not found for selector: \" + selector);\r\n        } \r\n        // \u5904\u7406DOM\u5143\u7D20\r\n        else if (typeof selector === \"object\" && selector instanceof HTMLElement) {\r\n            el = selector;\r\n        } \r\n        // \u65E0\u6548\u53C2\u6570\u7C7B\u578B\r\n        else {\r\n            throw new Error(\"Invalid selector type. Expected string or HTMLElement\");\r\n        }\r\n\r\n        this._el = el;\r\n        // \u4E3A\u5143\u7D20\u6DFB\u52A0\u552F\u4E00\u6807\u8BC6\u5C5E\u6027\r\n        el.setAttribute(this._s, \"\");\r\n\r\n        // \u521B\u5EFA\u6837\u5F0F\u5143\u7D20\r\n        var sid = \"style-\" + this._s;\r\n        this._se = d.getElementById(sid);\r\n        if (!this._se) {\r\n            this._se = d.createElement(\"style\");\r\n            this._se.id = sid;\r\n            this._se.innerHTML = SS;\r\n            d.head.appendChild(this._se);\r\n        }\r\n    }\r\n\r\n    Adapter.prototype = {\r\n        /**\r\n         * \u6838\u5FC3\u91CD\u6392\u65B9\u6CD5\uFF1A\u6839\u636E\u5F53\u524D\u6A21\u5F0F\u548C\u5C3A\u5BF8\u8BA1\u7B97\u7F29\u653E\u6BD4\u4F8B\u5E76\u5E94\u7528\u6837\u5F0F\r\n         * @private\r\n         */\r\n        _relayout() {\r\n            // \u5982\u679C\u9002\u914D\u5668\u5DF2\u9500\u6BC1\u6216\u6A21\u5F0F\u4E3Anone\uFF0C\u5219\u4E0D\u6267\u884C\u91CD\u6392\r\n            if (this._iD || this.mode === Mode.none) return;\r\n\r\n            var self = this;\r\n\r\n            // \u7B49\u5F85DOM\u52A0\u8F7D\u5B8C\u6210\r\n            if (!d.body) {\r\n                var fn = function() {\r\n                    if (!self._iD) self._relayout();\r\n                    d.removeEventListener(\"DOMContentLoaded\", fn);\r\n                };\r\n                d.addEventListener(\"DOMContentLoaded\", fn);\r\n                return;\r\n            }\r\n\r\n            var sw = this.sourceWidth;\r\n            var sh = this.sourceHeight;\r\n\r\n            // \u83B7\u53D6\u5F53\u524D\u5C4F\u5E55\u5C3A\u5BF8\r\n            var de = d.documentElement;\r\n            var SW = de.clientWidth;\r\n            var SH = de.clientHeight;\r\n\r\n            // \u8BA1\u7B97\u7F29\u653E\u6BD4\u4F8B\u5411\u91CF\r\n            var sv = {\r\n                x: SW / sw,\r\n                y: SH / sh\r\n            };\r\n\r\n            // \u6839\u636E\u4E0D\u540C\u6A21\u5F0F\u8BA1\u7B97\u7F29\u653E\u6BD4\u4F8B\r\n            var s;\r\n            switch (this.mode) {\r\n                case Mode.cover:\r\n                    // \u8986\u76D6\u6A21\u5F0F\uFF1A\u4F7F\u7528\u8F83\u5927\u7684\u7F29\u653E\u6BD4\u4F8B\uFF0C\u53EF\u80FD\u4F1A\u88C1\u526A\u5185\u5BB9\r\n                    s = Math.max(sv.x, sv.y);\r\n                    sv.x = sv.y = s;\r\n                    break;\r\n                case Mode.contain:\r\n                    // \u5305\u542B\u6A21\u5F0F\uFF1A\u4F7F\u7528\u8F83\u5C0F\u7684\u7F29\u653E\u6BD4\u4F8B\uFF0C\u786E\u4FDD\u5185\u5BB9\u5B8C\u5168\u53EF\u89C1\r\n                    s = Math.min(sv.x, sv.y);\r\n                    sv.x = sv.y = s;\r\n                    break;\r\n                case Mode.fixedWidth:\r\n                    // \u56FA\u5B9A\u5BBD\u5EA6\u6A21\u5F0F\uFF1AY\u8F74\u7F29\u653E\u8DDF\u968FX\u8F74\r\n                    sv.y = sv.x;\r\n                    break;\r\n            }\r\n\r\n            // \u8BA1\u7B97\u5C45\u4E2D\u504F\u79FB\u91CF\r\n            var ml = (SW - sw) / 2;\r\n            var mt = (SH - sh) / 2;\r\n            var fw = this.mode === Mode.fixedWidth;\r\n\r\n            // CSS\u524D\u7F00\u6DFB\u52A0\u8F85\u52A9\u51FD\u6570\r\n            function ap(p) {\r\n                return \"-webkit-\" + p + \" -moz-\" + p + \" -ms-\" + p + \" \" + p;\r\n            }\r\n\r\n            // \u6784\u5EFA\u6837\u5F0F\u89C4\u5219\r\n            var to = \"transform-origin: center \" + (fw ? \"top;\" : \"center;\");\r\n            var es = [\r\n                \"left:\" + ml + \"px\",\r\n                \"top:\" + (fw ? 0 : mt) + \"px\",\r\n                \"width:\" + sw + \"px\",\r\n                \"height:\" + (sh || fw ? sh + \"px\" : \"auto\"),\r\n                \"min-height:\" + (fw ? ((1 / sv.y * 100) + \"%\") : (sh ? \"auto\" : \"100%\")),\r\n                ap(to)\r\n            ].join(\"; \");\r\n\r\n            var ts = ap(\"transform: scale(\" + sv.x + \", \" + sv.y + \");\");\r\n\r\n            // \u5E94\u7528\u8BA1\u7B97\u51FA\u7684\u6837\u5F0F\u5230\u5143\u7D20\r\n            this._se.innerHTML = SS + \"[\" + this._s + \"]{position:absolute;display:block;\" + es + ts + \"}\";\r\n\r\n            // \u8BBE\u7F6E\u5143\u7D20\u7684\u7F29\u653E\u5411\u91CF\r\n            this.scaleVector = { x: sv.x, y: sv.y };\r\n\r\n            // \u5F02\u6B65\u79FB\u9664\u906E\u7F69\uFF0C\u907F\u514D\u6837\u5F0F\u5E94\u7528\u524D\u7684\u95EA\u70C1\r\n            setTimeout(function () {\r\n                self._el && self._el.removeAttribute(\"sa-cloak\");\r\n            }, 33.33);\r\n\r\n            // \u521D\u59CB\u5316resize\u4E8B\u4EF6\u76D1\u542C\u5668\uFF08\u4EC5\u6267\u884C\u4E00\u6B21\uFF09\r\n            if (!this._rc) {\r\n                this._rc = function() {\r\n                    // \u4F7F\u7528\u9632\u6296\u673A\u5236\uFF0C\u907F\u514D\u9891\u7E41\u7684\u91CD\u6392\u64CD\u4F5C\r\n                    clearTimeout(self._dt);\r\n                    self._dt = setTimeout(function () {\r\n                        self._relayout();\r\n                    }, 33.33);\r\n                };\r\n                w.addEventListener(\"resize\", this._rc);\r\n            }\r\n        },\r\n        /**\r\n         * \u8BBE\u7F6E\u9002\u914D\u6A21\u5F0F\r\n         * @param {Object} mode - \u9002\u914D\u6A21\u5F0F\r\n         * @param {Object} options - \u914D\u7F6E\u9009\u9879\uFF0C\u5305\u542Bwidth\u548Cheight\r\n         */\r\n        setMode(mode, options) {\r\n            if (this._iD) throw new Error(\"Adapter has been disposed\");\r\n\r\n            // \u786E\u4FDDoptions\u662F\u5BF9\u8C61\r\n            options = options || {};\r\n\r\n            // \u91CD\u7F6E\u5F53\u524D\u72B6\u6001\r\n            this.reset();\r\n\r\n            // \u5982\u679C\u662Fnone\u6A21\u5F0F\uFF0C\u76F4\u63A5\u79FB\u9664\u906E\u7F69\u5E76\u8FD4\u56DE\r\n            if (mode === Mode.none) {\r\n                var self = this;\r\n                setTimeout(function () {\r\n                    self._el && self._el.removeAttribute(\"sa-cloak\");\r\n                }, 33.33);\r\n                return;\r\n            }\r\n\r\n            this.mode = mode;\r\n\r\n            // \u4FDD\u5B58\u8BBE\u8BA1\u7A3F\u5C3A\u5BF8\r\n            this.sourceWidth = options.width || 0;\r\n            this.sourceHeight = options.height || 0;\r\n\r\n            // \u6267\u884C\u91CD\u6392\r\n            this._relayout();\r\n        },\r\n        /**\r\n         * \u91CD\u7F6E\u9002\u914D\u5668\u72B6\u6001\r\n         */\r\n        reset() {\r\n            if (this._iD) throw new Error(\"Adapter has been disposed\");\r\n\r\n            // \u91CD\u7F6E\u6A21\u5F0F\u548C\u5C3A\u5BF8\u53C2\u6570\r\n            this.mode = Mode.none;\r\n            this.sourceWidth = 0;\r\n            this.sourceHeight = 0;\r\n            this.scaleVector = { x: 1, y: 1 };\r\n\r\n            // \u79FB\u9664resize\u4E8B\u4EF6\u76D1\u542C\u5668\r\n            if (this._rc) {\r\n                w.removeEventListener(\"resize\", this._rc);\r\n                this._rc = null;\r\n            }\r\n\r\n            // \u6E05\u9664\u9632\u6296\u5B9A\u65F6\u5668\r\n            if (this._dt) {\r\n                clearTimeout(this._dt);\r\n                this._dt = null;\r\n            }\r\n\r\n            // \u91CD\u7F6E\u6837\u5F0F\u4E3A\u521D\u59CB\u72B6\u6001\r\n            this._se && (this._se.innerHTML = SS);\r\n        },\r\n        /**\r\n         * \u9500\u6BC1\u9002\u914D\u5668\uFF0C\u91CA\u653E\u6240\u6709\u8D44\u6E90\r\n         */\r\n        dispose() {\r\n            // \u9632\u6B62\u91CD\u590D\u9500\u6BC1\r\n            if (this._iD) return;\r\n\r\n            this._iD = true;\r\n\r\n            // \u6E05\u7406\u72B6\u6001\r\n            this.mode = null;\r\n\r\n            // \u6E05\u7406DOM\u5143\u7D20\u76F8\u5173\r\n            if (this._el) {\r\n                this._el.removeAttribute(this._s);\r\n                this._el = null;\r\n            }\r\n\r\n            // \u79FB\u9664\u6837\u5F0F\u5143\u7D20\r\n            if (this._se) {\r\n                this._se.remove();\r\n                this._se = null;\r\n            }\r\n\r\n            // \u79FB\u9664\u4E8B\u4EF6\u76D1\u542C\u5668\r\n            if (this._rc) {\r\n                w.removeEventListener(\"resize\", this._rc);\r\n                this._rc = null;\r\n            }\r\n\r\n            // \u6E05\u9664\u9632\u6296\u5B9A\u65F6\u5668\uFF0C\u9632\u6B62\u5185\u5B58\u6CC4\u6F0F\r\n            if (this._dt) {\r\n                clearTimeout(this._dt);\r\n                this._dt = null;\r\n            }\r\n        }\r\n    };\r\n\r\n    // \u786E\u4FDD\u9002\u914D\u5668\u652F\u6301 Symbol.dispose \u65B9\u6CD5\r\n    typeof Symbol === \"function\" && Symbol.dispose && (Adapter.prototype[Symbol.dispose] = function () {\r\n        this.dispose();\r\n    });\r\n\r\n    return Adapter;\r\n})();\r\n\r\nexport { Adapter as ScreenAdapter, Mode as ScreenAdapterMode };"],
  "mappings": "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",
  "names": ["Mode", "v", "Adapter", "w", "d", "SS", "CSR", "c", "selector", "_iD", "_s", "_el", "_se", "_rc", "_dt", "el", "sid", "_relayout", "self", "fn", "sw", "sh", "de", "SW", "SH", "sv", "s", "ml", "mt", "fw", "ap", "p", "to", "es", "ts", "mode", "options"]
}
